<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>pion-net: pion::PionLockedQueue&lt; T, MaxSize, SleepMilliSec &gt; Class Template Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="namespacepion.html">pion</a>::<a class="el" href="classpion_1_1_pion_locked_queue.html">PionLockedQueue</a></div>
<h1>pion::PionLockedQueue&lt; T, MaxSize, SleepMilliSec &gt; Class Template Reference</h1><!-- doxytag: class="pion::PionLockedQueue" --><code>#include &lt;<a class="el" href="_pion_locked_queue_8hpp-source.html">PionLockedQueue.hpp</a>&gt;</code>
<p>
<a href="classpion_1_1_pion_locked_queue-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;typename T, boost::uint32_t MaxSize = 250000, boost::uint32_t SleepMilliSec = 10&gt;<br>
 class pion::PionLockedQueue&lt; T, MaxSize, SleepMilliSec &gt;</h3>

<a class="el" href="classpion_1_1_pion_locked_queue.html">PionLockedQueue</a>: a thread-safe, two-lock concurrent FIFO queue 
<p>

<p>
Definition at line <a class="el" href="_pion_locked_queue_8hpp-source.html#l00043">43</a> of file <a class="el" href="_pion_locked_queue_8hpp-source.html">PionLockedQueue.hpp</a>.<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f2e1e79d28f39e7247d0115d43e92165"></a><!-- doxytag: member="pion::PionLockedQueue::PionLockedQueue" ref="f2e1e79d28f39e7247d0115d43e92165" args="(void)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpion_1_1_pion_locked_queue.html#f2e1e79d28f39e7247d0115d43e92165">PionLockedQueue</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">constructs a new <a class="el" href="classpion_1_1_pion_locked_queue.html">PionLockedQueue</a> <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3096daeaf75976d767b3a5cb54029160"></a><!-- doxytag: member="pion::PionLockedQueue::~PionLockedQueue" ref="3096daeaf75976d767b3a5cb54029160" args="()" -->
virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpion_1_1_pion_locked_queue.html#3096daeaf75976d767b3a5cb54029160">~PionLockedQueue</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">virtual destructor <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5faf612dce5e26566fc19b494b1492b1"></a><!-- doxytag: member="pion::PionLockedQueue::empty" ref="5faf612dce5e26566fc19b494b1492b1" args="(void) const " -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpion_1_1_pion_locked_queue.html#5faf612dce5e26566fc19b494b1492b1">empty</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">returns true if the queue is empty; false if it is not <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8a616b20d590b5f1bd12e6fc15c805c0"></a><!-- doxytag: member="pion::PionLockedQueue::size" ref="8a616b20d590b5f1bd12e6fc15c805c0" args="(void) const " -->
std::size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpion_1_1_pion_locked_queue.html#8a616b20d590b5f1bd12e6fc15c805c0">size</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">returns the number of items that are currently in the queue <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="682da324334d39b42ddc68a0ab8301ac"></a><!-- doxytag: member="pion::PionLockedQueue::clear" ref="682da324334d39b42ddc68a0ab8301ac" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpion_1_1_pion_locked_queue.html#682da324334d39b42ddc68a0ab8301ac">clear</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">clears the list by removing all remaining items <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpion_1_1_pion_locked_queue.html#f4563d2b8baa3d84a27668e1b334295c">push</a> (const T &amp;t)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpion_1_1_pion_locked_queue.html#e0af5da6ac66591f14a257b4caeae9d0">pop</a> (T &amp;t, <a class="el" href="classpion_1_1_pion_locked_queue_1_1_consumer_thread.html">ConsumerThread</a> &amp;thread_info)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpion_1_1_pion_locked_queue.html#f59f39b79e3e8fafb71e51e3706bcbef">pop</a> (T &amp;t)</td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b567147499f2a4668e2c6812be36005a"></a><!-- doxytag: member="pion::PionLockedQueue::createNode" ref="b567147499f2a4668e2c6812be36005a" args="(void)" -->
<a class="el" href="structpion_1_1_pion_locked_queue_1_1_queue_node.html">QueueNode</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpion_1_1_pion_locked_queue.html#b567147499f2a4668e2c6812be36005a">createNode</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">returns a new queue node item for use in the queue <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="872b16146945fb2952d4ce14ff3ed09a"></a><!-- doxytag: member="pion::PionLockedQueue::destroyNode" ref="872b16146945fb2952d4ce14ff3ed09a" args="(QueueNode *node_ptr)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpion_1_1_pion_locked_queue.html#872b16146945fb2952d4ce14ff3ed09a">destroyNode</a> (<a class="el" href="structpion_1_1_pion_locked_queue_1_1_queue_node.html">QueueNode</a> *node_ptr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">frees memory for an existing queue node item <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpion_1_1_pion_locked_queue.html#c2e8f0afc5091edd96bdb288bec63eb8">dequeue</a> (T &amp;t, boost::uint32_t &amp;version)</td></tr>

<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpion_1_1_pion_locked_queue_1_1_consumer_thread.html">ConsumerThread</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">data structure used to manage idle consumer threads waiting for items  <a href="classpion_1_1_pion_locked_queue_1_1_consumer_thread.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpion_1_1_pion_locked_queue_1_1_queue_node.html">QueueNode</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">data structure used to wrap each item in the queue  <a href="structpion_1_1_pion_locked_queue_1_1_queue_node.html#_details">More...</a><br></td></tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="c2e8f0afc5091edd96bdb288bec63eb8"></a><!-- doxytag: member="pion::PionLockedQueue::dequeue" ref="c2e8f0afc5091edd96bdb288bec63eb8" args="(T &amp;t, boost::uint32_t &amp;version)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T, boost::uint32_t MaxSize = 250000, boost::uint32_t SleepMilliSec = 10&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classpion_1_1_pion_locked_queue.html">pion::PionLockedQueue</a>&lt; T, MaxSize, SleepMilliSec &gt;::dequeue           </td>
          <td>(</td>
          <td class="paramtype">T &amp;&nbsp;</td>
          <td class="paramname"> <em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::uint32_t &amp;&nbsp;</td>
          <td class="paramname"> <em>version</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
dequeues the next item from the top of the queue<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>t</em>&nbsp;</td><td>assigned to the item at the top of the queue, if it is not empty </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>boost::uint32_t</em>&nbsp;</td><td>version number of the item retrieved, or head node if none</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if an item was retrieved; false if the queue is empty </dd></dl>

<p>
Definition at line <a class="el" href="_pion_locked_queue_8hpp-source.html#l00082">82</a> of file <a class="el" href="_pion_locked_queue_8hpp-source.html">PionLockedQueue.hpp</a>.
<p>
References <a class="el" href="_pion_locked_queue_8hpp-source.html#l00050">pion::PionLockedQueue&lt; T, MaxSize, SleepMilliSec &gt;::QueueNode::data</a>, <a class="el" href="_pion_locked_queue_8hpp-source.html#l00065">pion::PionLockedQueue&lt; T, MaxSize, SleepMilliSec &gt;::destroyNode()</a>, <a class="el" href="_pion_locked_queue_8hpp-source.html#l00051">pion::PionLockedQueue&lt; T, MaxSize, SleepMilliSec &gt;::QueueNode::next</a>, and <a class="el" href="_pion_locked_queue_8hpp-source.html#l00052">pion::PionLockedQueue&lt; T, MaxSize, SleepMilliSec &gt;::QueueNode::version</a>.
<p>
Referenced by <a class="el" href="_pion_locked_queue_8hpp-source.html#l00230">pion::PionLockedQueue&lt; T, MaxSize, SleepMilliSec &gt;::pop()</a>.
</div>
</div><p>
<a class="anchor" name="f59f39b79e3e8fafb71e51e3706bcbef"></a><!-- doxytag: member="pion::PionLockedQueue::pop" ref="f59f39b79e3e8fafb71e51e3706bcbef" args="(T &amp;t)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T, boost::uint32_t MaxSize = 250000, boost::uint32_t SleepMilliSec = 10&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classpion_1_1_pion_locked_queue.html">pion::PionLockedQueue</a>&lt; T, MaxSize, SleepMilliSec &gt;::pop           </td>
          <td>(</td>
          <td class="paramtype">T &amp;&nbsp;</td>
          <td class="paramname"> <em>t</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
pops the next item from the top of the queue<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>t</em>&nbsp;</td><td>assigned to the item at the top of the queue, if it is not empty</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if an item was retrieved, false if the queue is empty </dd></dl>

<p>
Definition at line <a class="el" href="_pion_locked_queue_8hpp-source.html#l00257">257</a> of file <a class="el" href="_pion_locked_queue_8hpp-source.html">PionLockedQueue.hpp</a>.
<p>
References <a class="el" href="_pion_locked_queue_8hpp-source.html#l00082">pion::PionLockedQueue&lt; T, MaxSize, SleepMilliSec &gt;::dequeue()</a>.
</div>
</div><p>
<a class="anchor" name="e0af5da6ac66591f14a257b4caeae9d0"></a><!-- doxytag: member="pion::PionLockedQueue::pop" ref="e0af5da6ac66591f14a257b4caeae9d0" args="(T &amp;t, ConsumerThread &amp;thread_info)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T, boost::uint32_t MaxSize = 250000, boost::uint32_t SleepMilliSec = 10&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classpion_1_1_pion_locked_queue.html">pion::PionLockedQueue</a>&lt; T, MaxSize, SleepMilliSec &gt;::pop           </td>
          <td>(</td>
          <td class="paramtype">T &amp;&nbsp;</td>
          <td class="paramname"> <em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classpion_1_1_pion_locked_queue_1_1_consumer_thread.html">ConsumerThread</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>thread_info</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
pops the next item from the top of the queue. this may cause the calling thread to sleep until an item is available, and will only return when an item has been successfully retrieved or when the thread is stopping<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>t</em>&nbsp;</td><td>assigned to the item at the top of the queue </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>thread_info</em>&nbsp;</td><td><a class="el" href="classpion_1_1_pion_locked_queue_1_1_consumer_thread.html">ConsumerThread</a> object used to manage the thread</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if an item was retrieved, false if the queue is empty </dd></dl>

<p>
Definition at line <a class="el" href="_pion_locked_queue_8hpp-source.html#l00230">230</a> of file <a class="el" href="_pion_locked_queue_8hpp-source.html">PionLockedQueue.hpp</a>.
<p>
References <a class="el" href="_pion_locked_queue_8hpp-source.html#l00082">pion::PionLockedQueue&lt; T, MaxSize, SleepMilliSec &gt;::dequeue()</a>, <a class="el" href="_pion_locked_queue_8hpp-source.html#l00121">pion::PionLockedQueue&lt; T, MaxSize, SleepMilliSec &gt;::ConsumerThread::isRunning()</a>, <a class="el" href="_pion_locked_queue_8hpp-source.html#l00136">pion::PionLockedQueue&lt; T, MaxSize, SleepMilliSec &gt;::ConsumerThread::m_next_ptr</a>, <a class="el" href="_pion_locked_queue_8hpp-source.html#l00135">pion::PionLockedQueue&lt; T, MaxSize, SleepMilliSec &gt;::ConsumerThread::m_wakeup_event</a>, and <a class="el" href="_pion_locked_queue_8hpp-source.html#l00052">pion::PionLockedQueue&lt; T, MaxSize, SleepMilliSec &gt;::QueueNode::version</a>.
</div>
</div><p>
<a class="anchor" name="f4563d2b8baa3d84a27668e1b334295c"></a><!-- doxytag: member="pion::PionLockedQueue::push" ref="f4563d2b8baa3d84a27668e1b334295c" args="(const T &amp;t)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T, boost::uint32_t MaxSize = 250000, boost::uint32_t SleepMilliSec = 10&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classpion_1_1_pion_locked_queue.html">pion::PionLockedQueue</a>&lt; T, MaxSize, SleepMilliSec &gt;::push           </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&nbsp;</td>
          <td class="paramname"> <em>t</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
pushes a new item into the back of the queue<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>t</em>&nbsp;</td><td>the item to add to the back of the queue </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_pion_locked_queue_8hpp-source.html#l00184">184</a> of file <a class="el" href="_pion_locked_queue_8hpp-source.html">PionLockedQueue.hpp</a>.
<p>
References <a class="el" href="_pion_locked_queue_8hpp-source.html#l00056">pion::PionLockedQueue&lt; T, MaxSize, SleepMilliSec &gt;::createNode()</a>, <a class="el" href="_pion_locked_queue_8hpp-source.html#l00050">pion::PionLockedQueue&lt; T, MaxSize, SleepMilliSec &gt;::QueueNode::data</a>, <a class="el" href="_pion_locked_queue_8hpp-source.html#l00136">pion::PionLockedQueue&lt; T, MaxSize, SleepMilliSec &gt;::ConsumerThread::m_next_ptr</a>, <a class="el" href="_pion_locked_queue_8hpp-source.html#l00135">pion::PionLockedQueue&lt; T, MaxSize, SleepMilliSec &gt;::ConsumerThread::m_wakeup_event</a>, <a class="el" href="_pion_locked_queue_8hpp-source.html#l00051">pion::PionLockedQueue&lt; T, MaxSize, SleepMilliSec &gt;::QueueNode::next</a>, <a class="el" href="_pion_locked_queue_8hpp-source.html#l00162">pion::PionLockedQueue&lt; T, MaxSize, SleepMilliSec &gt;::size()</a>, and <a class="el" href="_pion_locked_queue_8hpp-source.html#l00052">pion::PionLockedQueue&lt; T, MaxSize, SleepMilliSec &gt;::QueueNode::version</a>.
</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>common/include/pion/<a class="el" href="_pion_locked_queue_8hpp-source.html">PionLockedQueue.hpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Tue Aug 10 15:23:13 2010 for pion-net by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
