<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>pion-net: pion::net::HTTPBasicAuth Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="namespacepion.html">pion</a>::<a class="el" href="namespacepion_1_1net.html">net</a>::<a class="el" href="classpion_1_1net_1_1_h_t_t_p_basic_auth.html">HTTPBasicAuth</a></div>
<h1>pion::net::HTTPBasicAuth Class Reference</h1><!-- doxytag: class="pion::net::HTTPBasicAuth" --><!-- doxytag: inherits="pion::net::HTTPAuth" --><code>#include &lt;<a class="el" href="_h_t_t_p_basic_auth_8hpp-source.html">HTTPBasicAuth.hpp</a>&gt;</code>
<p>
Inherits <a class="el" href="classpion_1_1net_1_1_h_t_t_p_auth.html">pion::net::HTTPAuth</a>.
<p>
<a href="classpion_1_1net_1_1_h_t_t_p_basic_auth-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
<a class="el" href="classpion_1_1net_1_1_h_t_t_p_basic_auth.html">HTTPBasicAuth</a>: a base class for handling HTTP Authentication and session management in accordance with RFC 2617 <a href="http://tools.ietf.org/html/rfc2617">http://tools.ietf.org/html/rfc2617</a> 
<p>

<p>
Definition at line <a class="el" href="_h_t_t_p_basic_auth_8hpp-source.html#l00027">27</a> of file <a class="el" href="_h_t_t_p_basic_auth_8hpp-source.html">HTTPBasicAuth.hpp</a>.<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b30e0f80170d9cecf1634211cf823545"></a><!-- doxytag: member="pion::net::HTTPBasicAuth::HTTPBasicAuth" ref="b30e0f80170d9cecf1634211cf823545" args="(PionUserManagerPtr userManager, const std::string &amp;realm=&quot;PION:NET&quot;)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpion_1_1net_1_1_h_t_t_p_basic_auth.html#b30e0f80170d9cecf1634211cf823545">HTTPBasicAuth</a> (<a class="el" href="namespacepion_1_1net.html#41439dd0d2404c0202b0f14dc39f120f">PionUserManagerPtr</a> userManager, const std::string &amp;realm=&quot;PION:NET&quot;)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">default constructor <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="9a95d32c28bdfa68b444b0c68090bc60"></a><!-- doxytag: member="pion::net::HTTPBasicAuth::~HTTPBasicAuth" ref="9a95d32c28bdfa68b444b0c68090bc60" args="()" -->
virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpion_1_1net_1_1_h_t_t_p_basic_auth.html#9a95d32c28bdfa68b444b0c68090bc60">~HTTPBasicAuth</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">virtual destructor <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpion_1_1net_1_1_h_t_t_p_basic_auth.html#5741f98d021a4a1a2415511404eb3f4a">handleRequest</a> (<a class="el" href="namespacepion_1_1net.html#5d6280ef9c5b2df13630ae1c1dea66d8">HTTPRequestPtr</a> &amp;request, <a class="el" href="namespacepion_1_1net.html#e66ec40cd9d138619b1142311e8fee59">TCPConnectionPtr</a> &amp;tcp_conn)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpion_1_1net_1_1_h_t_t_p_basic_auth.html#eb21f615fa80e4768de8dd4349373f90">setOption</a> (const std::string &amp;name, const std::string &amp;value)</td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpion_1_1net_1_1_h_t_t_p_basic_auth.html#75fb2739b464e5915579fdfae75303af">handleUnauthorized</a> (<a class="el" href="namespacepion_1_1net.html#5d6280ef9c5b2df13630ae1c1dea66d8">HTTPRequestPtr</a> &amp;http_request, <a class="el" href="namespacepion_1_1net.html#e66ec40cd9d138619b1142311e8fee59">TCPConnectionPtr</a> &amp;tcp_conn)</td></tr>

<tr><td colspan="2"><br><h2>Static Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpion_1_1net_1_1_h_t_t_p_basic_auth.html#eb897a96f000d020f5c4d26e0f95d3ca">parseAuthorization</a> (std::string const &amp;authorization, std::string &amp;credentials)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpion_1_1net_1_1_h_t_t_p_basic_auth.html#5d71f016c1781adcc6985625f207e1f2">parseCredentials</a> (std::string const &amp;credentials, std::string &amp;username, std::string &amp;password)</td></tr>

</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="5741f98d021a4a1a2415511404eb3f4a"></a><!-- doxytag: member="pion::net::HTTPBasicAuth::handleRequest" ref="5741f98d021a4a1a2415511404eb3f4a" args="(HTTPRequestPtr &amp;request, TCPConnectionPtr &amp;tcp_conn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool pion::net::HTTPBasicAuth::handleRequest           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacepion_1_1net.html#5d6280ef9c5b2df13630ae1c1dea66d8">HTTPRequestPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacepion_1_1net.html#e66ec40cd9d138619b1142311e8fee59">TCPConnectionPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>tcp_conn</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
attempts to validate authentication of a new HTTP request. If request valid, pointer to user identity object (if any) will be preserved in the request and return "true". If request not authenticated, appropriate response is sent over tcp_conn and return "false";<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>request</em>&nbsp;</td><td>the new HTTP request to handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tcp_conn</em>&nbsp;</td><td>the TCP connection that has the new request</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if request valid and user identity inserted into request </dd></dl>

<p>
Implements <a class="el" href="classpion_1_1net_1_1_h_t_t_p_auth.html#3f3e04dfd53fcdea33abcc28d9accfa0">pion::net::HTTPAuth</a>.
<p>
Definition at line <a class="el" href="_h_t_t_p_basic_auth_8cpp-source.html#l00034">34</a> of file <a class="el" href="_h_t_t_p_basic_auth_8cpp-source.html">HTTPBasicAuth.cpp</a>.
<p>
References <a class="el" href="_h_t_t_p_basic_auth_8cpp-source.html#l00132">handleUnauthorized()</a>, <a class="el" href="_h_t_t_p_types_8hpp-source.html#l00048">pion::net::HTTPTypes::HEADER_AUTHORIZATION</a>, <a class="el" href="_h_t_t_p_auth_8hpp-source.html#l00157">pion::net::HTTPAuth::m_user_manager</a>, <a class="el" href="_h_t_t_p_auth_8cpp-source.html#l00037">pion::net::HTTPAuth::needAuthentication()</a>, <a class="el" href="_h_t_t_p_basic_auth_8cpp-source.html#l00103">parseAuthorization()</a>, and <a class="el" href="_h_t_t_p_basic_auth_8cpp-source.html#l00113">parseCredentials()</a>.
</div>
</div><p>
<a class="anchor" name="75fb2739b464e5915579fdfae75303af"></a><!-- doxytag: member="pion::net::HTTPBasicAuth::handleUnauthorized" ref="75fb2739b464e5915579fdfae75303af" args="(HTTPRequestPtr &amp;http_request, TCPConnectionPtr &amp;tcp_conn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pion::net::HTTPBasicAuth::handleUnauthorized           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacepion_1_1net.html#5d6280ef9c5b2df13630ae1c1dea66d8">HTTPRequestPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>http_request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacepion_1_1net.html#e66ec40cd9d138619b1142311e8fee59">TCPConnectionPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>tcp_conn</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
used to send responses when access to resource is not authorized<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>http_request</em>&nbsp;</td><td>the new HTTP request to handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tcp_conn</em>&nbsp;</td><td>the TCP connection that has the new request </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_h_t_t_p_basic_auth_8cpp-source.html#l00132">132</a> of file <a class="el" href="_h_t_t_p_basic_auth_8cpp-source.html">HTTPBasicAuth.cpp</a>.
<p>
References <a class="el" href="_h_t_t_p_response_writer_8hpp-source.html#l00049">pion::net::HTTPResponseWriter::create()</a>, <a class="el" href="_t_c_p_connection_8hpp-source.html#l00605">pion::net::TCPConnection::finish()</a>, <a class="el" href="_h_t_t_p_types_8hpp-source.html#l00087">pion::net::HTTPTypes::RESPONSE_CODE_UNAUTHORIZED</a>, and <a class="el" href="_h_t_t_p_types_8hpp-source.html#l00072">pion::net::HTTPTypes::RESPONSE_MESSAGE_UNAUTHORIZED</a>.
<p>
Referenced by <a class="el" href="_h_t_t_p_basic_auth_8cpp-source.html#l00034">handleRequest()</a>.
</div>
</div><p>
<a class="anchor" name="eb897a96f000d020f5c4d26e0f95d3ca"></a><!-- doxytag: member="pion::net::HTTPBasicAuth::parseAuthorization" ref="eb897a96f000d020f5c4d26e0f95d3ca" args="(std::string const &amp;authorization, std::string &amp;credentials)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool pion::net::HTTPBasicAuth::parseAuthorization           </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&nbsp;</td>
          <td class="paramname"> <em>authorization</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>credentials</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
extracts base64 user credentials from authorization string<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>authorization</em>&nbsp;</td><td>value of the HEADER_AUTHORIZATION </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_h_t_t_p_basic_auth_8cpp-source.html#l00103">103</a> of file <a class="el" href="_h_t_t_p_basic_auth_8cpp-source.html">HTTPBasicAuth.cpp</a>.
<p>
Referenced by <a class="el" href="_h_t_t_p_basic_auth_8cpp-source.html#l00034">handleRequest()</a>.
</div>
</div><p>
<a class="anchor" name="5d71f016c1781adcc6985625f207e1f2"></a><!-- doxytag: member="pion::net::HTTPBasicAuth::parseCredentials" ref="5d71f016c1781adcc6985625f207e1f2" args="(std::string const &amp;credentials, std::string &amp;username, std::string &amp;password)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool pion::net::HTTPBasicAuth::parseCredentials           </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&nbsp;</td>
          <td class="paramname"> <em>credentials</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>password</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
parse base64 credentials and extract username/password 
<p>
Definition at line <a class="el" href="_h_t_t_p_basic_auth_8cpp-source.html#l00113">113</a> of file <a class="el" href="_h_t_t_p_basic_auth_8cpp-source.html">HTTPBasicAuth.cpp</a>.
<p>
References <a class="el" href="_h_t_t_p_types_8cpp-source.html#l00092">pion::net::HTTPTypes::base64_decode()</a>.
<p>
Referenced by <a class="el" href="_h_t_t_p_basic_auth_8cpp-source.html#l00034">handleRequest()</a>.
</div>
</div><p>
<a class="anchor" name="eb21f615fa80e4768de8dd4349373f90"></a><!-- doxytag: member="pion::net::HTTPBasicAuth::setOption" ref="eb21f615fa80e4768de8dd4349373f90" args="(const std::string &amp;name, const std::string &amp;value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pion::net::HTTPBasicAuth::setOption           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
sets a configuration option Valid options:<ul>
<li>"domain" - name of authentication domain</li></ul>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>the name of the option to change </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>the value of the option </td></tr>
  </table>
</dl>

<p>
Reimplemented from <a class="el" href="classpion_1_1net_1_1_h_t_t_p_auth.html#26327876fd6c6235de8e7810451a2ebd">pion::net::HTTPAuth</a>.
<p>
Definition at line <a class="el" href="_h_t_t_p_basic_auth_8cpp-source.html#l00095">95</a> of file <a class="el" href="_h_t_t_p_basic_auth_8cpp-source.html">HTTPBasicAuth.cpp</a>.
</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>net/include/pion/net/<a class="el" href="_h_t_t_p_basic_auth_8hpp-source.html">HTTPBasicAuth.hpp</a><li>net/src/<a class="el" href="_h_t_t_p_basic_auth_8cpp-source.html">HTTPBasicAuth.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Tue Aug 10 15:23:13 2010 for pion-net by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
