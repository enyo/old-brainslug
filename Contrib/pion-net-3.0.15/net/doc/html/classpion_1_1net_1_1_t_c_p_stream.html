<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>pion-net: pion::net::TCPStream Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="namespacepion.html">pion</a>::<a class="el" href="namespacepion_1_1net.html">net</a>::<a class="el" href="classpion_1_1net_1_1_t_c_p_stream.html">TCPStream</a></div>
<h1>pion::net::TCPStream Class Reference</h1><!-- doxytag: class="pion::net::TCPStream" --><!-- doxytag: inherits="std::basic_iostream&lt; char, std::char_traits&lt; char &gt; &gt;" --><code>#include &lt;<a class="el" href="_t_c_p_stream_8hpp-source.html">TCPStream.hpp</a>&gt;</code>
<p>
Inherits std::basic_iostream&lt; char, std::char_traits&lt; char &gt; &gt;.
<p>
<a href="classpion_1_1net_1_1_t_c_p_stream-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
<a class="el" href="classpion_1_1net_1_1_t_c_p_stream.html">TCPStream</a>: std::basic_iostream wrapper for TCP network connections 
<p>

<p>
Definition at line <a class="el" href="_t_c_p_stream_8hpp-source.html#l00323">323</a> of file <a class="el" href="_t_c_p_stream_8hpp-source.html">TCPStream.hpp</a>.<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="539e454c329643c006e582eb5ece18f5"></a><!-- doxytag: member="pion::net::TCPStream::char_type" ref="539e454c329643c006e582eb5ece18f5" args="" -->
typedef char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpion_1_1net_1_1_t_c_p_stream.html#539e454c329643c006e582eb5ece18f5">char_type</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="001ac3555ea939e63a888215f2545f4d"></a><!-- doxytag: member="pion::net::TCPStream::int_type" ref="001ac3555ea939e63a888215f2545f4d" args="" -->
typedef std::char_traits&lt;<br>
 char &gt;::<a class="el" href="classpion_1_1net_1_1_t_c_p_stream.html#001ac3555ea939e63a888215f2545f4d">int_type</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpion_1_1net_1_1_t_c_p_stream.html#001ac3555ea939e63a888215f2545f4d">int_type</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="94baa021380c295e0f735326b1e95a90"></a><!-- doxytag: member="pion::net::TCPStream::off_type" ref="94baa021380c295e0f735326b1e95a90" args="" -->
typedef std::char_traits&lt;<br>
 char &gt;::<a class="el" href="classpion_1_1net_1_1_t_c_p_stream.html#94baa021380c295e0f735326b1e95a90">off_type</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpion_1_1net_1_1_t_c_p_stream.html#94baa021380c295e0f735326b1e95a90">off_type</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4eeae85149e113b0e7f3c1ae33c5c8c8"></a><!-- doxytag: member="pion::net::TCPStream::pos_type" ref="4eeae85149e113b0e7f3c1ae33c5c8c8" args="" -->
typedef std::char_traits&lt;<br>
 char &gt;::<a class="el" href="classpion_1_1net_1_1_t_c_p_stream.html#4eeae85149e113b0e7f3c1ae33c5c8c8">pos_type</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpion_1_1net_1_1_t_c_p_stream.html#4eeae85149e113b0e7f3c1ae33c5c8c8">pos_type</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f766f48372e1a11a32c03f89f384d98a"></a><!-- doxytag: member="pion::net::TCPStream::traits_type" ref="f766f48372e1a11a32c03f89f384d98a" args="" -->
typedef std::char_traits&lt;<br>
 char &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpion_1_1net_1_1_t_c_p_stream.html#f766f48372e1a11a32c03f89f384d98a">traits_type</a></td></tr>

<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpion_1_1net_1_1_t_c_p_stream.html#b7c7d8ade647175eaa062c5c73cf8419">TCPStream</a> (<a class="el" href="namespacepion_1_1net.html#e66ec40cd9d138619b1142311e8fee59">TCPConnectionPtr</a> &amp;conn_ptr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpion_1_1net_1_1_t_c_p_stream.html#d4af444bc30e5b654a6a62fc011ee4a3">TCPStream</a> (boost::asio::io_service &amp;io_service, const bool ssl_flag=false)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpion_1_1net_1_1_t_c_p_stream.html#1c87ae30652cfac49c6e9316407b9297">TCPStream</a> (boost::asio::io_service &amp;io_service, <a class="el" href="classpion_1_1net_1_1_t_c_p_connection.html#23549697333e2a4363696d8bfe3af5fe">TCPConnection::SSLContext</a> &amp;ssl_context)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">boost::system::error_code&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpion_1_1net_1_1_t_c_p_stream.html#0751ad9a0d5b76f0f7c965b64674172f">accept</a> (boost::asio::ip::tcp::acceptor &amp;tcp_acceptor)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">boost::system::error_code&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpion_1_1net_1_1_t_c_p_stream.html#aeb6a6e2c60befd33383796a3be17f19">connect</a> (boost::asio::ip::tcp::endpoint &amp;tcp_endpoint)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">boost::system::error_code&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpion_1_1net_1_1_t_c_p_stream.html#4731f296650a7c15d084485771b59e7c">connect</a> (const boost::asio::ip::address &amp;remote_addr, const unsigned int remote_port)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0f246d4b81b22e41a0bdb9eaaca139a2"></a><!-- doxytag: member="pion::net::TCPStream::close" ref="0f246d4b81b22e41a0bdb9eaaca139a2" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpion_1_1net_1_1_t_c_p_stream.html#0f246d4b81b22e41a0bdb9eaaca139a2">close</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">closes the tcp connection <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="677dbc5f63de31abfde83079f4eba808"></a><!-- doxytag: member="pion::net::TCPStream::is_open" ref="677dbc5f63de31abfde83079f4eba808" args="(void) const " -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpion_1_1net_1_1_t_c_p_stream.html#677dbc5f63de31abfde83079f4eba808">is_open</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">returns true if the connection is currently open <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1001710f329f661a4c2028ecbe2accc5"></a><!-- doxytag: member="pion::net::TCPStream::getSSLFlag" ref="1001710f329f661a4c2028ecbe2accc5" args="(void) const " -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpion_1_1net_1_1_t_c_p_stream.html#1001710f329f661a4c2028ecbe2accc5">getSSLFlag</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">returns true if the connection is encrypted using SSL <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="08d7079b431c12f7df5aea76b1ef0529"></a><!-- doxytag: member="pion::net::TCPStream::getRemoteIp" ref="08d7079b431c12f7df5aea76b1ef0529" args="(void) const " -->
boost::asio::ip::address&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpion_1_1net_1_1_t_c_p_stream.html#08d7079b431c12f7df5aea76b1ef0529">getRemoteIp</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">returns the client's IP address <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ac5ebc5c7606b084bfffb04a134fa9c3"></a><!-- doxytag: member="pion::net::TCPStream::rdbuf" ref="ac5ebc5c7606b084bfffb04a134fa9c3" args="(void)" -->
<a class="el" href="classpion_1_1net_1_1_t_c_p_stream_buffer.html">TCPStreamBuffer</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpion_1_1net_1_1_t_c_p_stream.html#ac5ebc5c7606b084bfffb04a134fa9c3">rdbuf</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">returns a pointer to the stream buffer in use <br></td></tr>
</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="b7c7d8ade647175eaa062c5c73cf8419"></a><!-- doxytag: member="pion::net::TCPStream::TCPStream" ref="b7c7d8ade647175eaa062c5c73cf8419" args="(TCPConnectionPtr &amp;conn_ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pion::net::TCPStream::TCPStream           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacepion_1_1net.html#e66ec40cd9d138619b1142311e8fee59">TCPConnectionPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>conn_ptr</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, explicit]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
constructs a TCP stream object for an existing TCP connection<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn_ptr</em>&nbsp;</td><td>pointer to the TCP connection to use for reading &amp; writing </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_t_c_p_stream_8hpp-source.html#l00341">341</a> of file <a class="el" href="_t_c_p_stream_8hpp-source.html">TCPStream.hpp</a>.
</div>
</div><p>
<a class="anchor" name="d4af444bc30e5b654a6a62fc011ee4a3"></a><!-- doxytag: member="pion::net::TCPStream::TCPStream" ref="d4af444bc30e5b654a6a62fc011ee4a3" args="(boost::asio::io_service &amp;io_service, const bool ssl_flag=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pion::net::TCPStream::TCPStream           </td>
          <td>(</td>
          <td class="paramtype">boost::asio::io_service &amp;&nbsp;</td>
          <td class="paramname"> <em>io_service</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&nbsp;</td>
          <td class="paramname"> <em>ssl_flag</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline, explicit]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
constructs a TCP stream object for a new TCP connection<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>io_service</em>&nbsp;</td><td>asio service associated with the connection </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ssl_flag</em>&nbsp;</td><td>if true then the connection will be encrypted using SSL </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_t_c_p_stream_8hpp-source.html#l00357">357</a> of file <a class="el" href="_t_c_p_stream_8hpp-source.html">TCPStream.hpp</a>.
</div>
</div><p>
<a class="anchor" name="1c87ae30652cfac49c6e9316407b9297"></a><!-- doxytag: member="pion::net::TCPStream::TCPStream" ref="1c87ae30652cfac49c6e9316407b9297" args="(boost::asio::io_service &amp;io_service, TCPConnection::SSLContext &amp;ssl_context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pion::net::TCPStream::TCPStream           </td>
          <td>(</td>
          <td class="paramtype">boost::asio::io_service &amp;&nbsp;</td>
          <td class="paramname"> <em>io_service</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classpion_1_1net_1_1_t_c_p_connection.html#23549697333e2a4363696d8bfe3af5fe">TCPConnection::SSLContext</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>ssl_context</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
constructs a TCP stream object for a new SSL/TCP connection<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>io_service</em>&nbsp;</td><td>asio service associated with the connection </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ssl_context</em>&nbsp;</td><td>asio ssl context associated with the connection </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_t_c_p_stream_8hpp-source.html#l00374">374</a> of file <a class="el" href="_t_c_p_stream_8hpp-source.html">TCPStream.hpp</a>.
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="0751ad9a0d5b76f0f7c965b64674172f"></a><!-- doxytag: member="pion::net::TCPStream::accept" ref="0751ad9a0d5b76f0f7c965b64674172f" args="(boost::asio::ip::tcp::acceptor &amp;tcp_acceptor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::system::error_code pion::net::TCPStream::accept           </td>
          <td>(</td>
          <td class="paramtype">boost::asio::ip::tcp::acceptor &amp;&nbsp;</td>
          <td class="paramname"> <em>tcp_acceptor</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
accepts a new tcp connection and performs SSL handshake if necessary<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tcp_acceptor</em>&nbsp;</td><td>object used to accept new connections </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>boost::system::error_code contains error code if the connection fails</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd>boost::asio::basic_socket_acceptor::accept() </dd></dl>

<p>
Definition at line <a class="el" href="_t_c_p_stream_8hpp-source.html#l00393">393</a> of file <a class="el" href="_t_c_p_stream_8hpp-source.html">TCPStream.hpp</a>.
<p>
References <a class="el" href="_t_c_p_connection_8hpp-source.html#l00203">pion::net::TCPConnection::accept()</a>, <a class="el" href="_t_c_p_stream_8hpp-source.html#l00094">pion::net::TCPStreamBuffer::getConnection()</a>, and <a class="el" href="_t_c_p_connection_8hpp-source.html#l00378">pion::net::TCPConnection::handshake_server()</a>.
</div>
</div><p>
<a class="anchor" name="4731f296650a7c15d084485771b59e7c"></a><!-- doxytag: member="pion::net::TCPStream::connect" ref="4731f296650a7c15d084485771b59e7c" args="(const boost::asio::ip::address &amp;remote_addr, const unsigned int remote_port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::system::error_code pion::net::TCPStream::connect           </td>
          <td>(</td>
          <td class="paramtype">const boost::asio::ip::address &amp;&nbsp;</td>
          <td class="paramname"> <em>remote_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&nbsp;</td>
          <td class="paramname"> <em>remote_port</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
connects to a (IPv4) remote endpoint and performs SSL handshake if necessary<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>remote_addr</em>&nbsp;</td><td>remote IP address (v4) to connect to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>remote_port</em>&nbsp;</td><td>remote port number to connect to </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>boost::system::error_code contains error code if the connection fails</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd>boost::asio::basic_socket_acceptor::connect() </dd></dl>

<p>
Definition at line <a class="el" href="_t_c_p_stream_8hpp-source.html#l00424">424</a> of file <a class="el" href="_t_c_p_stream_8hpp-source.html">TCPStream.hpp</a>.
<p>
References <a class="el" href="_t_c_p_connection_8hpp-source.html#l00261">pion::net::TCPConnection::connect()</a>, <a class="el" href="_t_c_p_stream_8hpp-source.html#l00094">pion::net::TCPStreamBuffer::getConnection()</a>, and <a class="el" href="_t_c_p_connection_8hpp-source.html#l00362">pion::net::TCPConnection::handshake_client()</a>.
</div>
</div><p>
<a class="anchor" name="aeb6a6e2c60befd33383796a3be17f19"></a><!-- doxytag: member="pion::net::TCPStream::connect" ref="aeb6a6e2c60befd33383796a3be17f19" args="(boost::asio::ip::tcp::endpoint &amp;tcp_endpoint)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::system::error_code pion::net::TCPStream::connect           </td>
          <td>(</td>
          <td class="paramtype">boost::asio::ip::tcp::endpoint &amp;&nbsp;</td>
          <td class="paramname"> <em>tcp_endpoint</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
connects to a remote endpoint and performs SSL handshake if necessary<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tcp_endpoint</em>&nbsp;</td><td>remote endpoint to connect to </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>boost::system::error_code contains error code if the connection fails</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd>boost::asio::basic_socket_acceptor::connect() </dd></dl>

<p>
Definition at line <a class="el" href="_t_c_p_stream_8hpp-source.html#l00408">408</a> of file <a class="el" href="_t_c_p_stream_8hpp-source.html">TCPStream.hpp</a>.
<p>
References <a class="el" href="_t_c_p_connection_8hpp-source.html#l00261">pion::net::TCPConnection::connect()</a>, <a class="el" href="_t_c_p_stream_8hpp-source.html#l00094">pion::net::TCPStreamBuffer::getConnection()</a>, and <a class="el" href="_t_c_p_connection_8hpp-source.html#l00362">pion::net::TCPConnection::handshake_client()</a>.
</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>net/include/pion/net/<a class="el" href="_t_c_p_stream_8hpp-source.html">TCPStream.hpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Tue Aug 10 15:23:13 2010 for pion-net by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
